[gd_scene load_steps=27 format=3 uid="uid://djwirk4ockuor"]

[ext_resource type="Script" uid="uid://puedae26ukqg" path="res://scenes/hideout/hideout.gd" id="1_ura2u"]
[ext_resource type="PackedScene" uid="uid://dcyafnr4rlbt6" path="res://assets/datsun/datsun.tscn" id="1_xndaa"]
[ext_resource type="PackedScene" uid="uid://d1lcmhjvkefw6" path="res://assets/garage/garage.tscn" id="2_7v8ca"]
[ext_resource type="Script" uid="uid://pkwdcfxgso1q" path="res://cinna_cam/camera_movement/cinna_cam.gd" id="3_ura2u"]
[ext_resource type="Script" uid="uid://bf4wol320c205" path="res://cinna_cam/camera_movement/planar-system.gd" id="4_eegbv"]
[ext_resource type="Script" uid="uid://cep4n5ilt5opf" path="res://cinna_cam/camera_movement/angular-system.gd" id="5_x1t0x"]
[ext_resource type="PackedScene" uid="uid://c3jw42gxogjji" path="res://assets/direction-cube/direction-cube.tscn" id="6_60i1o"]
[ext_resource type="Script" uid="uid://c3pfswfcml75e" path="res://cinna_cam/pathing/meta-path.gd" id="7_embkr"]
[ext_resource type="Script" uid="uid://u8kmj6bobusb" path="res://cinna_cam/pathing/path-section.gd" id="8_seky7"]
[ext_resource type="PackedScene" uid="uid://cwst0m7ws210c" path="res://assets/arcade-cabinet/arcade-cabinet.glb" id="9_x3ijg"]
[ext_resource type="PackedScene" uid="uid://sj3wt5u1le7l" path="res://scenes/temple/temple.tscn" id="11_ura2u"]

[sub_resource type="ViewportTexture" id="ViewportTexture_xndaa"]
viewport_path = NodePath("ArcadeCabinet/CanvasLayer/SubViewportContainer/SubViewport")

[sub_resource type="Resource" id="Resource_leb7k"]
script = ExtResource("4_eegbv")
f = 7.75
z = 1.8
r = 0.8
metadata/_custom_type_script = "uid://dygsmwmd0om4g"

[sub_resource type="Resource" id="Resource_au00d"]
script = ExtResource("5_x1t0x")
f = 8.0
z = 1.8
r = 0.6
metadata/_custom_type_script = "uid://bi740sq5wwli2"

[sub_resource type="Resource" id="Resource_xbpu6"]
script = ExtResource("5_x1t0x")
f = 8.0
z = 1.8
r = 0.6
metadata/_custom_type_script = "uid://bi740sq5wwli2"

[sub_resource type="Curve3D" id="Curve3D_8vk1q"]

[sub_resource type="Curve3D" id="Curve3D_2db5g"]
_data = {
"points": PackedVector3Array(-0.0396929, -1.43051e-06, -0.36534, 0.0396929, 1.43051e-06, 0.36534, 0.102434, 0, 0.0292667, -0.775057, 0, 0.0583352, 0.775057, 0, -0.0583352, 0.969838, 1.43051e-06, 0.923184, -0.00537491, 1.43051e-06, 0.523955, 0.00537491, -1.43051e-06, -0.523955, 1.81943, 0, 0.0365838, 0.658267, 1.43051e-06, 0.0233429, -0.658267, -1.43051e-06, -0.0233429, 0.952917, 0, -0.841419, -0.0249248, 1.43051e-06, -0.393171, 0.0249248, -1.43051e-06, 0.393171, 0.0912006, 0, 0.0146333),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[sub_resource type="Curve3D" id="Curve3D_31ftd"]

[sub_resource type="Curve3D" id="Curve3D_8borv"]

[sub_resource type="Curve3D" id="Curve3D_ql7g8"]
_data = {
"points": PackedVector3Array(-0.018894, -0.0092901, -0.303669, 0.018894, 0.0092901, 0.303669, 0, 0, 0, -0.137801, 0.104957, -0.0607364, 0.137801, -0.104957, 0.0607364, 0.30401, -1.12525, 0.795865, -0.47103, 0.0288217, 0.00987315, 0.47103, -0.0288217, -0.00987315, 1.29333, -1.31543, 0.963719),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="Curve3D" id="Curve3D_esgtm"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3.76435, 0.000717998, 5.00679e-05),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_psd4u"]
_data = {
"points": PackedVector3Array(-1.44796, 0.0132656, 0.0890958, 1.44796, -0.0132656, -0.0890958, 0, 0, 0, -0.0893455, -0.00735193, 0.474401, 0.0893455, 0.00735193, -0.474401, 1.66376, 0, -1.24446, 0.396737, -2.75075e-05, 0.467067, -0.396737, 2.75075e-05, -0.467067, 1.12786, 0, -3.29451, 0.317598, -0.0812988, 0.16255, -0.317598, 0.0812988, -0.16255, 0.24161, 0.004549, -3.71045),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="Curve3D" id="Curve3D_leb7k"]
_data = {
"points": PackedVector3Array(0.431524, -0.115467, 0.155382, -0.431524, 0.115467, -0.155382, 0, 0, 0, 0.93592, -0.0111766, 0, -0.93592, 0.0111766, 0, -1.63232, 1.17636, -0.370494, 1.20917, 0, -1.0193, -1.20917, 0, 1.0193, -4.18894, 1.1798, 0.482654, 0.00500298, -0.070666, -0.604535, -0.00500298, 0.070666, 0.604535, -5.29929, 1.31016, 2.74668),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="Curve3D" id="Curve3D_au00d"]

[sub_resource type="Curve3D" id="Curve3D_xndaa"]
_data = {
"points": PackedVector3Array(0.297846, 0, -1.08842, -0.297846, 0, 1.08842, 0, 0, 0, -0.807653, 0, 1.04606, 0.807653, 0, -1.04606, 3.6571, 0, 1.93522),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_eegbv"]
_data = {
"points": PackedVector3Array(-0.793997, 0, 0.701194, 0.793997, 0, -0.701194, 0, 0, 0, 1.08715, 0, 0.418649, -1.08715, 0, -0.418649, -0.539559, 0, -3.18071, 0.239771, 0, -1.15165, -0.239771, 0, 1.15165, -3.6571, 0, -1.93522),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[node name="Hideout" type="Node3D" node_paths=PackedStringArray("cinna_cam")]
script = ExtResource("1_ura2u")
cinna_cam = NodePath("CameraController")

[node name="Datsun" parent="." instance=ExtResource("1_xndaa")]
transform = Transform3D(-0.783687, 0, 0.0453929, 0, 0.785, 0, -0.0453929, 0, -0.783687, -1.785, 0.560544, 0.958)

[node name="Garage" parent="." instance=ExtResource("2_7v8ca")]
hideCeiling = true
hideWalls = true

[node name="ArcadeCabinet" parent="." instance=ExtResource("9_x3ijg")]
transform = Transform3D(0.6651, 0, -0.746754, 0, 1, 0, 0.746754, 0, 0.6651, -2.38328, 1.16391, -1.25852)

[node name="CanvasLayer" type="CanvasLayer" parent="ArcadeCabinet"]
follow_viewport_enabled = true
follow_viewport_scale = 7.905

[node name="SubViewportContainer" type="SubViewportContainer" parent="ArcadeCabinet/CanvasLayer"]
offset_right = 40.0
offset_bottom = 40.0

[node name="SubViewport" type="SubViewport" parent="ArcadeCabinet/CanvasLayer/SubViewportContainer"]
handle_input_locally = false
size = Vector2i(480, 320)
render_target_update_mode = 4

[node name="Camera3D" type="Camera3D" parent="ArcadeCabinet/CanvasLayer/SubViewportContainer/SubViewport"]
transform = Transform3D(0.163825, 0, 0.986489, 0, 1, 0, -0.986489, 0, 0.163825, 5.3256, 1.62922, 0)
far = 100.0

[node name="Sprite3D" type="Sprite3D" parent="ArcadeCabinet/CanvasLayer/SubViewportContainer/SubViewport"]
transform = Transform3D(0.756217, -0.139099, 0.639365, 0.0189417, 0.981387, 0.191105, -0.654047, -0.132406, 0.744776, -3.02922, 1.85645, -1.99874)
pixel_size = 0.0012
texture = SubResource("ViewportTexture_xndaa")

[node name="CameraController" type="Node3D" parent="." node_paths=PackedStringArray("camera", "meta_paths")]
script = ExtResource("3_ura2u")
camera = NodePath("Camera3D")
meta_paths = [NodePath("Loiter"), NodePath("ArcadeCabinet"), NodePath("Datsun"), NodePath("Toolbox")]
position_targeter = SubResource("Resource_leb7k")
x_look_targeter = SubResource("Resource_au00d")
y_look_targeter = SubResource("Resource_xbpu6")
metadata/_custom_type_script = "uid://pkwdcfxgso1q"

[node name="Pointer" parent="CameraController" instance=ExtResource("6_60i1o")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.18402, 2.36378, 0.911958)

[node name="Camera3D" type="Camera3D" parent="CameraController"]
transform = Transform3D(1, 0, 0, 0, 0.728789, 0.684738, 0, -0.684738, 0.728789, 3.17915, 2.65254, 1.33812)

[node name="RotationTest" type="Node3D" parent="CameraController"]
script = ExtResource("7_embkr")
metadata/_custom_type_script = "uid://c3pfswfcml75e"

[node name="PathSection" type="Path3D" parent="CameraController/RotationTest"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.20545, 2.34236, 0.991116)
curve = SubResource("Curve3D_8vk1q")
script = ExtResource("8_seky7")
follow_target_node = NodePath("")
metadata/_custom_type_script = "uid://u8kmj6bobusb"

[node name="LookCircle" type="Node" parent="CameraController/RotationTest"]

[node name="PathSection2" type="Path3D" parent="CameraController/RotationTest/LookCircle"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 2.2515, 2.36951, 0.941092)
curve = SubResource("Curve3D_2db5g")
script = ExtResource("8_seky7")
follow_target_node = NodePath("")
metadata/_custom_type_script = "uid://u8kmj6bobusb"

[node name="Datsun" type="Node3D" parent="CameraController"]
script = ExtResource("7_embkr")
metadata/_custom_type_script = "uid://c3pfswfcml75e"

[node name="PathSection" type="Path3D" parent="CameraController/Datsun"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.624603, 0.418565, -0.579682)
curve = SubResource("Curve3D_31ftd")
script = ExtResource("8_seky7")
follow_target_node = NodePath("../../../Datsun")
metadata/_custom_type_script = "uid://u8kmj6bobusb"

[node name="Toolbox" type="Node3D" parent="CameraController"]
script = ExtResource("7_embkr")
metadata/_custom_type_script = "uid://c3pfswfcml75e"

[node name="PathSection" type="Path3D" parent="CameraController/Toolbox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.94792, 0.808367, -0.571222)
curve = SubResource("Curve3D_8borv")
script = ExtResource("8_seky7")
follow_target_node = NodePath("../ToolboxLookAt")
metadata/_custom_type_script = "uid://u8kmj6bobusb"

[node name="ToolboxLookAt" type="Node3D" parent="CameraController/Toolbox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.39713, 1.05918, -2.69962)

[node name="Loiter" type="Node3D" parent="CameraController"]
script = ExtResource("7_embkr")
metadata/_custom_type_script = "uid://c3pfswfcml75e"

[node name="PathSection" type="Path3D" parent="CameraController/Loiter"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.86565, 1.65758, 1.3795)
curve = SubResource("Curve3D_ql7g8")
script = ExtResource("8_seky7")
speed = 0.5
time_to_finish = 4.97762
follow_target_node = NodePath("../DatsunBack")
metadata/_custom_type_script = "uid://u8kmj6bobusb"

[node name="PathSection2" type="Path3D" parent="CameraController/Loiter"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.57232, 0.34215, 2.34322)
curve = SubResource("Curve3D_esgtm")
script = ExtResource("8_seky7")
speed = 0.5
time_to_finish = 7.5287
tracking_type = 3
metadata/_custom_type_script = "uid://u8kmj6bobusb"

[node name="PathSection3" type="Path3D" parent="CameraController/Loiter"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.19203, 0.342868, 2.34327)
curve = SubResource("Curve3D_psd4u")
script = ExtResource("8_seky7")
speed = 0.5
time_to_finish = 10.9572
follow_target_node = NodePath("../../Toolbox/ToolboxLookAt")
metadata/_custom_type_script = "uid://u8kmj6bobusb"

[node name="PathSection4" type="Path3D" parent="CameraController/Loiter"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.43364, 0.347417, -1.36718)
curve = SubResource("Curve3D_leb7k")
script = ExtResource("8_seky7")
speed = 0.5
time_to_finish = 15.1307
follow_target_node = NodePath("../ArcadeCabinetLookAt")
metadata/_custom_type_script = "uid://u8kmj6bobusb"

[node name="DatsunBack" type="Node3D" parent="CameraController/Loiter"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.70578, 0.58476, 0.95633)

[node name="ArcadeCabinetLookAt" type="Node3D" parent="CameraController/Loiter"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.02, 1.92, -1.97)

[node name="ArcadeCabinet" type="Node3D" parent="CameraController"]
script = ExtResource("7_embkr")
metadata/_custom_type_script = "uid://c3pfswfcml75e"

[node name="PathSection" type="Path3D" parent="CameraController/ArcadeCabinet"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.796, 1.943, -1.719)
curve = SubResource("Curve3D_au00d")
script = ExtResource("8_seky7")
tracking_type = 2
angle_target_degrees_x = 41.5
angle_target_degrees_y = -13.0
relative_to_travel_direction = false
metadata/_custom_type_script = "uid://u8kmj6bobusb"

[node name="MetaPath" type="Node3D" parent="CameraController"]
script = ExtResource("7_embkr")
metadata/_custom_type_script = "uid://c3pfswfcml75e"

[node name="PathSection" type="Path3D" parent="CameraController/MetaPath"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.315425, 2.14659, -0.247567)
curve = SubResource("Curve3D_xndaa")
script = ExtResource("8_seky7")
speed = 0.64
time_to_finish = 7.52038
follow_target_node = NodePath("../../../Datsun")
metadata/_custom_type_script = "uid://u8kmj6bobusb"

[node name="PathSection2" type="Path3D" parent="CameraController/MetaPath"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.34168, 2.14659, 1.68765)
curve = SubResource("Curve3D_eegbv")
script = ExtResource("8_seky7")
speed = 0.64
time_to_finish = 11.5656
tracking_type = 3
metadata/_custom_type_script = "uid://u8kmj6bobusb"

[node name="Temple" parent="." node_paths=PackedStringArray("camera") instance=ExtResource("11_ura2u")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 51.4022, 0, -61.4187)
camera = NodePath("../ArcadeCabinet/CanvasLayer/SubViewportContainer/SubViewport/Camera3D")

[connection signal="ready" from="CameraController" to="." method="_on_camera_controller_ready"]
